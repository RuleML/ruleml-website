<SCRIPT LANGUAGE="JavaScript" TYPE="text/javascript">
<!--
var newWind;
function putJumpCode(){
	var cnt = 29;
	newWind.document.write('<html>\n');
	newWind.document.write('<title>HtmlDiff Navigation</title>\n');
	newWind.document.write('<body>\n');
	newWind.document.write('<form name="jump">\n');
	newWind.document.write('<input type="button" value=" |&lt; " name="First" onclick=goto_first(this.form)>&nbsp;')
	newWind.document.write('<input type="button" value=" &lt; " name="Prev" onclick=goto_prev(this.form)>&nbsp;&nbsp;\n');
	newWind.document.write('<select name=url onchange=menu_goto(this.form)> \n');
	for (var i=0; i<cnt ;i++ ) {
		newWind.document.write('<option value="#c'+i+'">Change #'+(i+1)+ '</option> \n');
		}
	newWind.document.write('');
	newWind.document.write('</select>&nbsp;&nbsp;\n');
	newWind.document.write('<input type="button" value=" &gt; " name="Next"\n');
	newWind.document.write('onclick=goto_next(this.form)>\n');
	newWind.document.write('<input type="button" value=" &gt| " name="Last"\n');
	newWind.document.write('onclick=goto_last(this.form)>\n');
	newWind.document.write('</form>\n');
	newWind.document.write('');
	newWind.document.write('<form method="POST">\n');
	newWind.document.write('<p align="center"><i><font size="3">Generated\n');
	newWind.document.write('by <a href="http://www.ComponentSoftware.com/products/htmldiff" target="_blank">HtmlDiff</a> \n');
	newWind.document.write('</form>\n');
	newWind.document.write('</body>\n');
	newWind.document.write('</html>\n');
	newWind.document.write('<SCRIPT LANGUAGE="JavaScript" TYPE="text/javascript">\n');
	newWind.document.write('<!--\n');
	newWind.document.write('');
	newWind.document.write('var directCloseFlag=1;\n');
	newWind.document.write('');
	newWind.document.write('function menu_goto( menuform )\n');
	newWind.document.write('{\n');
	newWind.document.write('  var baseurl = opener.location.href ;\n');
	newWind.document.write('  var idx = baseurl.indexOf("#");\n');
	newWind.document.write('  if (idx > -1) {\n');
	newWind.document.write('	baseurl = baseurl.slice(0, idx);\n');
	newWind.document.write('  }');
	newWind.document.write('  selecteditem = menuform.url.selectedIndex ;\n');
	newWind.document.write('  newurl = menuform.url.options[ selecteditem ].value ;\n');
	newWind.document.write('  if (newurl.length != 0) {\n');
	newWind.document.write('    	opener.top.location.href = baseurl + newurl ;\n');
	newWind.document.write('  }');
	newWind.document.write('}');
	newWind.document.write('');
	newWind.document.write('function goto_prev( menuform )\n');
	newWind.document.write('{\n');
	newWind.document.write('	if(menuform.url.selectedIndex>0) menuform.url.selectedIndex--;\n');
	newWind.document.write('	menu_goto( menuform )\n');
	newWind.document.write('}');
	newWind.document.write('');
	newWind.document.write('function goto_first( menuform )\n');
	newWind.document.write('{\n');
	newWind.document.write('	menuform.url.selectedIndex = 0;	\n');
	newWind.document.write('	menu_goto( menuform );\n');
	newWind.document.write('}');
	newWind.document.write('');
	newWind.document.write('function goto_last( menuform )\n');
	newWind.document.write('{\n');
	newWind.document.write('	menuform.url.selectedIndex = menuform.url.options.length-1;	\n');
	newWind.document.write('	menu_goto( menuform );\n');
	newWind.document.write('}');
	newWind.document.write('');
	newWind.document.write('function goto_next( menuform )\n');
	newWind.document.write('{\n');
	newWind.document.write('	if(menuform.url.options.length > (menuform.url.selectedIndex+1))\n');
	newWind.document.write('	menuform.url.selectedIndex++;\n');
	newWind.document.write('	menu_goto( menuform )\n');
	newWind.document.write('}');
	newWind.document.write('');
	newWind.document.write('function restore()\n');
	newWind.document.write('{\n');
	newWind.document.write('    	focus();\n');
	newWind.document.write('	menu_goto(jump);\n');
	newWind.document.write('}');
	newWind.document.write('');
	newWind.document.write('goto_first(jump)\n');
	newWind.document.write('//-->\n');
	newWind.document.write('<');
	newWind.document.write('/SCRIPT>\n');
}
function pop_navigate(){
var isOpen = false
try {
isOpen = (newWind != null) && (!newWind.closed)
} catch (e) {}
  if (!isOpen) {
    newWind =  window.open("" ,"HtmlDiffJumpWindow","width=270,height=40")
    if (newWind.opener == null) { // for Nav 2.0x
      newWind.opener = self // this creates and sets a new prop
    }	putJumpCode();
  
} 
else 
{	newWind.execScript("restore()", "JavaScript");
  }
}
function exit(){
var isOpen = false
try {
isOpen = (newWind != null) && (!newWind.closed)
} catch (e) {}
if (isOpen) {
	newWind.close();
  }
}
//--></SCRIPT><body onunload=exit()><form method="POST">  <p align="center"><i><font size="3">Difference Analysis Generated by   <a href="http://www.ComponentSoftware.com/products/htmldiff" target="_blank">HtmlDiff</a> on  2011-01-30 17:15</font></i>&nbsp;&nbsp;
  <input type="button" value="Navigate Changes" name="Navigate" onclick=pop_navigate()></p></form></body><html>
<style type="text/css">
<!--
.HDNormal {  color: #000000;background:  #ffffff;text-decoration:none}
.HDDeleted {  color: #ff0000;background:  #ffffff;text-decoration:line-through}
.HDImgDeleted {  color: #ff0000;background-color: #ff0000}
.HDAdded {  color: #000000;background:  #ffff00;text-decoration:none}
-->
</style>
<body>
<pre>
 <span class="HDNormal">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;

<a name="diff" id="c0"><span class="HDDeleted">&lt;Assert
</span></a><span class="HDDeleted">xmlns="http://www.ruleml.org/0.89/xsd"
</span><span class="HDDeleted">xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
</span><span class="HDDeleted">xsi:schemaLocation="http://www.ruleml.org/0.89/xsd http://www.ruleml.org/0.89/xsd/datalog.xsd"&gt;
</span><span class="HDAdded">&lt;RuleML xmlns="http://www.ruleml.org/0.9/xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.ruleml.org/0.9/xsd http://www.ruleml.org/0.9/xsd/datalog.xsd"&gt;&lt;Assert mapClosure="universal"&gt; 
</span>
<a name="diff" id="c1"><span class="HDDeleted">&lt;And mapClosure="universal"&gt;
</span></a>
&lt;!--
BUSINESS RULES IN RuleML                            Harold Boley, 1 Apr. 2002
(revised June 2004)

Discounting rules were discussed as an example of prioritized conflict handling
in Benjamin N. Grosof, Yannis Labrou, Hoi Y. Chan: A Declarative Approach to
Business Rules in Contracts: Courteous Logic Programs in XML. Proc. EC99.

This rulebase defines non-prioritized business rules on customer-and-product
discounting (Implications 1 and 2) and, using chaining, on premium customers
(Imp 3).

It also gives business facts on products (Facts 1 and 2)
and on a specific customer (Fact 3).

Finally, it asks a test query for the rulebase (Query 1).

These examples could be easily extended by further categories of customers,
product discounting conditions, etc.

This entire RuleML 0.86 document validates w.r.t. the XSD given in the
line below.
--&gt;


<a name="diff" id="c2"><span class="HDAdded"> 
 
</span></a>&lt;!--  Implies 1
The discount for a customer buying a product is 5.0 percent
if the customer is premium and the product is regular.

Notice that an individual constant can syntactically be an entire phrase
like "5.0 percent". It will unify only with variables and with individuals
having exactly the same spelling (incl. spaces). One could refine this markup
by introducing a constructor term for "percent[5.0]", thus leaving Datalog
towards full Horn logic.
--&gt;

<a name="diff" id="c3"><span class="HDAdded"> 
</span></a>&lt;Implies&gt;
  &lt;head&gt;
    &lt;Atom&gt;
<a name="diff" id="c4"><span class="HDDeleted">      &lt;opr&gt;&lt;Rel&gt;discount&lt;/Rel&gt;&lt;/opr&gt;
</span></a><span class="HDAdded">      &lt;op&gt;&lt;Rel&gt;discount&lt;/Rel&gt;&lt;/op&gt; 
</span>      &lt;Var&gt;customer&lt;/Var&gt;
      &lt;Var&gt;product&lt;/Var&gt;
      &lt;Ind&gt;5.0 percent&lt;/Ind&gt;
    &lt;/Atom&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;And&gt;
      &lt;Atom&gt;
<a name="diff" id="c5"><span class="HDDeleted">        &lt;opr&gt;&lt;Rel&gt;premium&lt;/Rel&gt;&lt;/opr&gt;
</span></a><span class="HDAdded">        &lt;op&gt;&lt;Rel&gt;premium&lt;/Rel&gt;&lt;/op&gt; 
</span>        &lt;Var&gt;customer&lt;/Var&gt;
      &lt;/Atom&gt;
      &lt;Atom&gt;
<a name="diff" id="c6"><span class="HDDeleted">        &lt;opr&gt;&lt;Rel&gt;regular&lt;/Rel&gt;&lt;/opr&gt;
</span></a><span class="HDAdded">        &lt;op&gt;&lt;Rel&gt;regular&lt;/Rel&gt;&lt;/op&gt; 
</span>        &lt;Var&gt;product&lt;/Var&gt;
      &lt;/Atom&gt;
    &lt;/And&gt;
  &lt;/body&gt;
&lt;/Implies&gt;


<a name="diff" id="c7"><span class="HDAdded"> 
</span></a>&lt;!--  Implies 2
The discount for a customer buying a product is 7.5 percent
if the customer is premium and the product is luxury.
--&gt;

<a name="diff" id="c8"><span class="HDAdded"> 
</span></a>&lt;Implies&gt;
  &lt;head&gt;
    &lt;Atom&gt;
<a name="diff" id="c9"><span class="HDDeleted">      &lt;opr&gt;&lt;Rel&gt;discount&lt;/Rel&gt;&lt;/opr&gt;
</span></a><span class="HDAdded">      &lt;op&gt;&lt;Rel&gt;discount&lt;/Rel&gt;&lt;/op&gt; 
</span>      &lt;Var&gt;customer&lt;/Var&gt;
      &lt;Var&gt;product&lt;/Var&gt;
      &lt;Ind&gt;7.5 percent&lt;/Ind&gt;
    &lt;/Atom&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;And&gt;
      &lt;Atom&gt;
<a name="diff" id="c10"><span class="HDDeleted">        &lt;opr&gt;&lt;Rel&gt;premium&lt;/Rel&gt;&lt;/opr&gt;
</span></a><span class="HDAdded">        &lt;op&gt;&lt;Rel&gt;premium&lt;/Rel&gt;&lt;/op&gt; 
</span>        &lt;Var&gt;customer&lt;/Var&gt;
      &lt;/Atom&gt;
      &lt;Atom&gt;
<a name="diff" id="c11"><span class="HDDeleted">        &lt;opr&gt;&lt;Rel&gt;luxury&lt;/Rel&gt;&lt;/opr&gt;
</span></a><span class="HDAdded">        &lt;op&gt;&lt;Rel&gt;luxury&lt;/Rel&gt;&lt;/op&gt; 
</span>        &lt;Var&gt;product&lt;/Var&gt;
      &lt;/Atom&gt;
    &lt;/And&gt;
  &lt;/body&gt;
&lt;/Implies&gt;


<a name="diff" id="c12"><span class="HDAdded"> 
</span></a>&lt;!--  Implies 3
A customer is premium if
their spending has been min 5000 euro in the previous year.

Notice that "previous year" can again be regarded as an individual constant
consisting of an entire phrase. It can also be regarded as a semi-formal construct
transitionally used in the process of formalizing a given English business rule in
a logic allowing backward temporal references.

Similarly, "min 5000 euro" can as well be regarded as an individual constant phrase.
It can also be regarded as a semi-formal construct ultimately to be replaced by a
'greater-than' comparison over numbers with units.
--&gt;

<a name="diff" id="c13"><span class="HDAdded"> 
</span></a>&lt;Implies&gt;
  &lt;head&gt;
    &lt;Atom&gt;
<a name="diff" id="c14"><span class="HDDeleted">      &lt;opr&gt;&lt;Rel&gt;premium&lt;/Rel&gt;&lt;/opr&gt;
</span></a><span class="HDAdded">      &lt;op&gt;&lt;Rel&gt;premium&lt;/Rel&gt;&lt;/op&gt; 
</span>      &lt;Var&gt;customer&lt;/Var&gt;
    &lt;/Atom&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;Atom&gt;
<a name="diff" id="c15"><span class="HDDeleted">      &lt;opr&gt;&lt;Rel&gt;spending&lt;/Rel&gt;&lt;/opr&gt;
</span></a><span class="HDAdded">      &lt;op&gt;&lt;Rel&gt;spending&lt;/Rel&gt;&lt;/op&gt; 
</span>      &lt;Var&gt;customer&lt;/Var&gt;
      &lt;Ind&gt;min 5000 euro&lt;/Ind&gt;
      &lt;Ind&gt;previous year&lt;/Ind&gt;
    &lt;/Atom&gt;
  &lt;/body&gt;
&lt;/Implies&gt;


<a name="diff" id="c16"><span class="HDAdded"> 
</span></a>&lt;!--  Fact 1
A Porsche is luxury.
--&gt;
 
<a name="diff" id="c17"><span class="HDAdded"> 
</span></a>  &lt;Atom&gt;
<a name="diff" id="c18"><span class="HDDeleted">    &lt;opr&gt;&lt;Rel&gt;luxury&lt;/Rel&gt;&lt;/opr&gt;
</span></a><span class="HDAdded">    &lt;op&gt;&lt;Rel&gt;luxury&lt;/Rel&gt;&lt;/op&gt; 
</span>    &lt;Ind&gt;Porsche&lt;/Ind&gt;
  &lt;/Atom&gt;


<a name="diff" id="c19"><span class="HDAdded"> 
</span></a>&lt;!--  Fact 2
A Honda is regular.
--&gt;

<a name="diff" id="c20"><span class="HDAdded"> 
</span></a>  &lt;Atom&gt;
<a name="diff" id="c21"><span class="HDDeleted">    &lt;opr&gt;&lt;Rel&gt;regular&lt;/Rel&gt;&lt;/opr&gt;
</span></a><span class="HDAdded">    &lt;op&gt;&lt;Rel&gt;regular&lt;/Rel&gt;&lt;/op&gt; 
</span>    &lt;Ind&gt;Honda&lt;/Ind&gt;
  &lt;/Atom&gt;


<a name="diff" id="c22"><span class="HDAdded"> 
</span></a>&lt;!--  Fact 3
Peter Miller's spending has been min 5000 euro in the previous year.

Notice that "min 5000 euro" and "previous year" directly unify with
the identical individual constant phrases of Imp 3. Thus, these
semi-formal constructs can be used for debugging the rules already
in an early phase of the formalization process.
--&gt;

<a name="diff" id="c23"><span class="HDAdded"> 
</span></a>  &lt;Atom&gt;
<a name="diff" id="c24"><span class="HDDeleted">    &lt;opr&gt;&lt;Rel&gt;spending&lt;/Rel&gt;&lt;/opr&gt;
</span></a><span class="HDAdded">    &lt;op&gt;&lt;Rel&gt;spending&lt;/Rel&gt;&lt;/op&gt; 
</span>    &lt;Ind&gt;Peter Miller&lt;/Ind&gt;
    &lt;Ind&gt;min 5000 euro&lt;/Ind&gt;
    &lt;Ind&gt;previous year&lt;/Ind&gt;
  &lt;/Atom&gt;


<a name="diff" id="c25"><span class="HDAdded"> 
</span></a>&lt;!--  Query 1
Give the discount amounts for all customers buying any products.
--&gt;

<a name="diff" id="c26"><span class="HDAdded"> 
 
</span></a>&lt;!--
&lt;Query&gt;
  &lt;body&gt;
    &lt;Atom&gt;
      &lt;opr&gt;&lt;Rel&gt;discount&lt;/Rel&gt;&lt;/opr&gt;
      &lt;Var&gt;customer&lt;/Var&gt;
      &lt;Var&gt;product&lt;/Var&gt;
      &lt;Var&gt;amount&lt;/Var&gt;
    &lt;/Atom&gt;
  &lt;/body&gt;
&lt;/Query&gt;
--&gt;

<a name="diff" id="c27"><span class="HDDeleted">&lt;/And&gt;
</span></a>
<a name="diff" id="c28"><span class="HDDeleted">&lt;/Assert&gt;</span></a><span class="HDAdded">&lt;/Assert&gt;&lt;/RuleML&gt;
</span></span>
</pre>
</body>
</html>
