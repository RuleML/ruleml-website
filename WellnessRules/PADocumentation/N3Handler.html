<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_14) on Tue Dec 15 10:48:26 AST 2009 -->
<TITLE>
N3Handler
</TITLE>

<META NAME="date" CONTENT="2009-12-15">

<LINK REL ="stylesheet" TYPE="text/css" HREF="stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="N3Handler";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="MessageParser.html" title="class in &lt;Unnamed&gt;"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="POSLHandler.html" title="class in &lt;Unnamed&gt;"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="index.html?N3Handler.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="N3Handler.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
Class N3Handler</H2>
<PRE>
java.lang.Object
  <IMG SRC="./resources/inherit.gif" ALT="extended by "><B>N3Handler</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>N3Handler</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
WellnessRules (Any) PA:
 
 This class handles N3 method calls for PA's such as generating N3 profiles
 parsing a RuleML query, and answering an N3 query with Euler EYE.
 
 AGFA Project - WellnessRules Initiative
 NRC-IIT Fredericton
 46 Dineen Drive
 Fredericton, New Brunswick, 
 E3B 9W4 Canada
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="N3Handler.html#N3Handler()">N3Handler</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="N3Handler.html#answerN3Query(java.lang.String, MessageParser, java.lang.String, java.lang.String, java.lang.String, java.lang.Object)">answerN3Query</A></B>(java.lang.String&nbsp;fileLoc,
              <A HREF="MessageParser.html" title="class in &lt;Unnamed&gt;">MessageParser</A>&nbsp;m,
              java.lang.String&nbsp;address,
              java.lang.String&nbsp;port,
              java.lang.String&nbsp;messageEndpoint,
              java.lang.Object&nbsp;servletInfo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Uses the provided knowledge bases (written files), query, location of
 mule ESB and endpoint, and servlet information to create the N3 query, issue it to the
 Euler EYE engine, parse the answer to RuleML, and send it back to the OA.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="N3Handler.html#generateN3Profiles(java.lang.String, java.lang.String[], java.lang.String, java.lang.Object)">generateN3Profiles</A></B>(java.lang.String&nbsp;profileSpecified,
                   java.lang.String[]&nbsp;responsible,
                   java.lang.String&nbsp;globalAddress,
                   java.lang.Object&nbsp;servletInfo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Based on the specified profile and the PA's responsible profiles, it will build
 the required N3 knowledge base and save it as a temporary file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="N3Handler.html#parseEulerAnswers(java.lang.String, java.lang.String[], java.lang.String, java.lang.String, java.lang.String, java.lang.String)">parseEulerAnswers</A></B>(java.lang.String&nbsp;data,
                  java.lang.String[]&nbsp;variableSlots,
                  java.lang.String&nbsp;messageEndpoint,
                  java.lang.String&nbsp;id,
                  java.lang.String&nbsp;protocol,
                  java.lang.String&nbsp;relation)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Will convert each Euler EYE answer to a separate RuleML message, and send them to the OA.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.Vector&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="N3Handler.html#parseRuleMLQuery(DefiniteClause)">parseRuleMLQuery</A></B>(DefiniteClause&nbsp;ruleMLQuery)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Converts the given RuleML query to a N3 query.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="N3Handler()"><!-- --></A><H3>
N3Handler</H3>
<PRE>
public <B>N3Handler</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="generateN3Profiles(java.lang.String, java.lang.String[], java.lang.String, java.lang.Object)"><!-- --></A><H3>
generateN3Profiles</H3>
<PRE>
public static java.lang.String <B>generateN3Profiles</B>(java.lang.String&nbsp;profileSpecified,
                                                  java.lang.String[]&nbsp;responsible,
                                                  java.lang.String&nbsp;globalAddress,
                                                  java.lang.Object&nbsp;servletInfo)</PRE>
<DL>
<DD>Based on the specified profile and the PA's responsible profiles, it will build
 the required N3 knowledge base and save it as a temporary file.
 
 Assumption: Assumes that the location of knowledge bases are from a single root URL.
 http://www.jdrew.org/oojdrew/ruleSetsWellnessRules/...
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>profileSpecified</CODE> - The specified profile that is queried (may be "All")<DD><CODE>responsible</CODE> - The list of the PA's responsible profiles<DD><CODE>globalAddress</CODE> - The location of the global N3 knowledge base<DD><CODE>servletInfo</CODE> - Used to create the temporary file
<DT><B>Returns:</B><DD>The path name of the N3 knowledge base file</DL>
</DD>
</DL>
<HR>

<A NAME="parseRuleMLQuery(DefiniteClause)"><!-- --></A><H3>
parseRuleMLQuery</H3>
<PRE>
public static java.util.Vector&lt;java.lang.String&gt; <B>parseRuleMLQuery</B>(DefiniteClause&nbsp;ruleMLQuery)</PRE>
<DL>
<DD>Converts the given RuleML query to a N3 query.
 Assumed: Variables are in the correct order to correspond to slots.
 Assumed: Slot names and relation names correctly correspond to WR knowledge base.
 
 Only works for relations that are already hard-coded (i.e. addition of a new conclusion must be provided here)
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ruleMLQuery</CODE> - The RuleML query (actually a String)
<DT><B>Returns:</B><DD>A vector whose last index is the N3 query as a String, and all remaining indexes
         are the names of the variables in the query as Strings</DL>
</DD>
</DL>
<HR>

<A NAME="answerN3Query(java.lang.String, MessageParser, java.lang.String, java.lang.String, java.lang.String, java.lang.Object)"><!-- --></A><H3>
answerN3Query</H3>
<PRE>
public static void <B>answerN3Query</B>(java.lang.String&nbsp;fileLoc,
                                 <A HREF="MessageParser.html" title="class in &lt;Unnamed&gt;">MessageParser</A>&nbsp;m,
                                 java.lang.String&nbsp;address,
                                 java.lang.String&nbsp;port,
                                 java.lang.String&nbsp;messageEndpoint,
                                 java.lang.Object&nbsp;servletInfo)
                          throws java.lang.Exception</PRE>
<DL>
<DD>Uses the provided knowledge bases (written files), query, location of
 mule ESB and endpoint, and servlet information to create the N3 query, issue it to the
 Euler EYE engine, parse the answer to RuleML, and send it back to the OA.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fileLoc</CODE> - Temporary file location of the knowledge bases.<DD><CODE>m</CODE> - The query and message information.<DD><CODE>address</CODE> - The IP where the mule ESB is held<DD><CODE>port</CODE> - The port the mule ESB (for this OA) is on<DD><CODE>messageEndpoint</CODE> - The mule endpoint to send the message down<DD><CODE>servletInfo</CODE> - Servlet information used to write temporary file for query.
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - General exception.</DL>
</DD>
</DL>
<HR>

<A NAME="parseEulerAnswers(java.lang.String, java.lang.String[], java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
parseEulerAnswers</H3>
<PRE>
public static java.lang.String[] <B>parseEulerAnswers</B>(java.lang.String&nbsp;data,
                                                   java.lang.String[]&nbsp;variableSlots,
                                                   java.lang.String&nbsp;messageEndpoint,
                                                   java.lang.String&nbsp;id,
                                                   java.lang.String&nbsp;protocol,
                                                   java.lang.String&nbsp;relation)</PRE>
<DL>
<DD>Will convert each Euler EYE answer to a separate RuleML message, and send them to the OA.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>data</CODE> - String of answers obtained from Euler EYE.<DD><CODE>variableSlots</CODE> - Contains information as to which were variables in the query.<DD><CODE>messageEndpoint</CODE> - The endpoint of the mule ESB for this OA.<DD><CODE>id</CODE> - The message id.<DD><CODE>protocol</CODE> - The protocol of the message.<DD><CODE>relation</CODE> - The relation name for the message.
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="MessageParser.html" title="class in &lt;Unnamed&gt;"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="POSLHandler.html" title="class in &lt;Unnamed&gt;"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="index.html?N3Handler.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="N3Handler.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
